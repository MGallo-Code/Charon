# Charon configuration -- copy to .env and fill in values

# Postgres
POSTGRES_DB=charon
POSTGRES_USER=postgres_user
POSTGRES_PASSWORD=postgres_password

# Redis
REDIS_PASSWORD=redis_password

# Server
PORT=7865

# Session TTLs (optional -- defaults shown)
SESSION_TTL=24h
SESSION_REMEMBER_ME_TTL=720h

# Cookie
COOKIE_DOMAIN=localhost
COOKIE_SECURE=true

# Rate limiting
RATE_REGISTER_EMAIL_MAX=5
RATE_REGISTER_EMAIL_WINDOW=1h
RATE_REGISTER_EMAIL_LOCKOUT=1h
RATE_LOGIN_EMAIL_MAX=10
RATE_LOGIN_EMAIL_WINDOW=10m
RATE_LOGIN_EMAIL_LOCKOUT=15m
RATE_RESET_MAX=3
RATE_RESET_WINDOW=1h
RATE_RESET_LOCKOUT=1h
RATE_RESEND_MAX=3
RATE_RESEND_WINDOW=1h
RATE_RESEND_LOCKOUT=1h

# Logging (debug, info, warn, error) — default: info
LOG_LEVEL=debug

# Email (SMTP) — leave SMTP_HOST unset to disable outbound email (NopMailer)
SMTP_HOST=email-smtp.us-east-2.amazonaws.com
SMTP_PORT=587
SMTP_USERNAME=your_smtp_username
SMTP_PASSWORD=your_smtp_password
SMTP_FROM=no-reply@yourdomain.com
SMTP_RESET_URL=https://app.yourdomain.com/reset-password
SMTP_VERIFY_URL=https://app.yourdomain.com/verify-email

# Email verification — set to false to allow login without verifying email (default: true)
REQUIRE_EMAIL_VERIFICATION=true

# Password policy
PASSWORD_MIN_LENGTH=8
PASSWORD_MAX_LENGTH=128
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_REQUIRE_SPECIAL=true

# Google OAuth -- leave GOOGLE_CLIENT_ID unset to disable Google sign-in
# Redirect URL must be registered in Google Cloud Console
# Dev: http://localhost:7865/oauth/google/callback (Google allows localhost HTTP)
# Prod: https://app.yourdomain.com/oauth/google/callback (must be HTTPS)
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URL=http://localhost:7865/oauth/google/callback

# Captcha (Cloudflare Turnstile, hCaptcha, etc.)
# Leave SECURITY_CAPTCHA_ENABLED unset or false to disable entirely
SECURITY_CAPTCHA_ENABLED=false
SECURITY_CAPTCHA_PROVIDER=turnstile
SECURITY_CAPTCHA_SECRET=1x0000000000000000000000000000000AA

# Per-endpoint toggles (only take effect when SECURITY_CAPTCHA_ENABLED=true)
SECURITY_CAPTCHA_REGISTER=true
SECURITY_CAPTCHA_LOGIN=true
SECURITY_CAPTCHA_PASSWORD_RESET=true
SECURITY_CAPTCHA_RESEND_VERIFICATION=true
